var Ye=Object.defineProperty;var Je=(s,t,r)=>t in s?Ye(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r;var D=(s,t,r)=>Je(s,typeof t!="symbol"?t+"":t,r);import{e as he,f as xe,j as e,c as pe,u as Qe,P as K,b as O,i as Xe,a as Ze,d as L,a0 as ge,G as et,E as tt}from"./radix-ui-Dydihl3P.js";import{l as fe,R as st,I as nt,f as W,A as le,B as U,m as rt,n as at,o as it,p as ot,q as ce,e as A,r as lt,a as ct,G as dt,S as mt,H as ut,F as ht}from"./index-BUo4YLCE.js";import{r as h,d as xt}from"./react-vendor-CEaDgRep.js";import{I as de}from"./input-BuZCw2Dt.js";import{T as pt,J as gt,X as ft,a1 as yt,U as bt,a2 as vt,a3 as wt,a4 as X,a5 as jt,a6 as St,t as me,a7 as ue,g as Nt,s as Ct}from"./icons-BWneLCPQ.js";import{C as k,c as P,d as I,e as At,a as E,f as kt}from"./card-DkHw_mbq.js";import"./i18n-vendor-PWuMshG6.js";import"./utils-BTGVH9Kg.js";const Pt="wss://ws-api.runware.ai/v1";class Z{constructor(t){D(this,"ws",null);D(this,"apiKey",null);D(this,"connectionSessionUUID",null);D(this,"messageCallbacks",new Map);D(this,"isAuthenticated",!1);D(this,"connectionPromise",null);this.apiKey=t,this.connectionPromise=this.connect()}connect(){return new Promise((t,r)=>{this.ws=new WebSocket(Pt),this.ws.onopen=()=>{this.authenticate().then(t).catch(r)},this.ws.onmessage=i=>{var l,n;const a=JSON.parse(i.data);if(a.error||a.errors){console.error("WebSocket error response:",a),a.errorMessage||(n=(l=a.errors)==null?void 0:l[0])!=null&&n.message;return}a.data&&a.data.forEach(o=>{if(o.taskType==="authentication")this.connectionSessionUUID=o.connectionSessionUUID,this.isAuthenticated=!0;else{const d=this.messageCallbacks.get(o.taskUUID);d&&(d(o),this.messageCallbacks.delete(o.taskUUID))}})},this.ws.onerror=i=>{console.error("WebSocket error:",i),r(i)},this.ws.onclose=()=>{this.isAuthenticated=!1,setTimeout(()=>{this.connectionPromise=this.connect()},1e3)}})}authenticate(){return new Promise((t,r)=>{if(!this.ws||this.ws.readyState!==WebSocket.OPEN){r(new Error("WebSocket not ready for authentication"));return}const i=[{taskType:"authentication",apiKey:this.apiKey,...this.connectionSessionUUID&&{connectionSessionUUID:this.connectionSessionUUID}}],a=l=>{var o,d,m;((d=(o=JSON.parse(l.data).data)==null?void 0:o[0])==null?void 0:d.taskType)==="authentication"&&((m=this.ws)==null||m.removeEventListener("message",a),t())};this.ws.addEventListener("message",a),this.ws.send(JSON.stringify(i))})}async generateImage(t){await this.connectionPromise,(!this.ws||this.ws.readyState!==WebSocket.OPEN||!this.isAuthenticated)&&(this.connectionPromise=this.connect(),await this.connectionPromise);const r=crypto.randomUUID();return new Promise((i,a)=>{const l=[{taskType:"imageInference",taskUUID:r,model:t.model||"runware:100@1",width:t.width||1024,height:t.height||1024,numberResults:t.numberResults||1,outputFormat:t.outputFormat||"WEBP",steps:4,CFGScale:t.CFGScale||1,scheduler:t.scheduler||"FlowMatchEulerDiscreteScheduler",strength:t.strength||.8,lora:t.lora||[],...t}];t.seed||delete l[0].seed,l[0].model==="runware:100@1"&&delete l[0].promptWeighting,this.messageCallbacks.set(r,n=>{n.error?a(new Error(n.errorMessage)):n.imageURL?i({imageURL:n.imageURL,positivePrompt:n.positivePrompt||"",seed:n.seed||0,NSFWContent:n.NSFWContent||!1,imageUUID:n.imageUUID||"",cost:n.cost}):a(new Error("No image URL received"))}),this.ws.send(JSON.stringify(l))})}disconnect(){this.ws&&(this.ws.close(),this.ws=null)}}var H="Tabs",[It]=pe(H,[fe]),ye=fe(),[Et,ae]=It(H),be=h.forwardRef((s,t)=>{const{__scopeTabs:r,value:i,onValueChange:a,defaultValue:l,orientation:n="horizontal",dir:o,activationMode:d="automatic",...m}=s,x=he(o),[c,u]=xe({prop:i,onChange:a,defaultProp:l??"",caller:H});return e.jsx(Et,{scope:r,baseId:Qe(),value:c,onValueChange:u,orientation:n,dir:x,activationMode:d,children:e.jsx(K.div,{dir:x,"data-orientation":n,...m,ref:t})})});be.displayName=H;var ve="TabsList",we=h.forwardRef((s,t)=>{const{__scopeTabs:r,loop:i=!0,...a}=s,l=ae(ve,r),n=ye(r);return e.jsx(st,{asChild:!0,...n,orientation:l.orientation,dir:l.dir,loop:i,children:e.jsx(K.div,{role:"tablist","aria-orientation":l.orientation,...a,ref:t})})});we.displayName=ve;var je="TabsTrigger",Se=h.forwardRef((s,t)=>{const{__scopeTabs:r,value:i,disabled:a=!1,...l}=s,n=ae(je,r),o=ye(r),d=Ae(n.baseId,i),m=ke(n.baseId,i),x=i===n.value;return e.jsx(nt,{asChild:!0,...o,focusable:!a,active:x,children:e.jsx(K.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":m,"data-state":x?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...l,ref:t,onMouseDown:O(s.onMouseDown,c=>{!a&&c.button===0&&c.ctrlKey===!1?n.onValueChange(i):c.preventDefault()}),onKeyDown:O(s.onKeyDown,c=>{[" ","Enter"].includes(c.key)&&n.onValueChange(i)}),onFocus:O(s.onFocus,()=>{const c=n.activationMode!=="manual";!x&&!a&&c&&n.onValueChange(i)})})})});Se.displayName=je;var Ne="TabsContent",Ce=h.forwardRef((s,t)=>{const{__scopeTabs:r,value:i,forceMount:a,children:l,...n}=s,o=ae(Ne,r),d=Ae(o.baseId,i),m=ke(o.baseId,i),x=i===o.value,c=h.useRef(x);return h.useEffect(()=>{const u=requestAnimationFrame(()=>c.current=!1);return()=>cancelAnimationFrame(u)},[]),e.jsx(Xe,{present:a||x,children:({present:u})=>e.jsx(K.div,{"data-state":x?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":d,hidden:!u,id:m,tabIndex:0,...n,ref:t,style:{...s.style,animationDuration:c.current?"0s":void 0},children:u&&l})})});Ce.displayName=Ne;function Ae(s,t){return`${s}-trigger-${t}`}function ke(s,t){return`${s}-content-${t}`}var Rt=be,Pe=we,Ie=Se,Ee=Ce;const Tt=Rt,Re=h.forwardRef(({className:s,...t},r)=>e.jsx(Pe,{ref:r,className:W("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t}));Re.displayName=Pe.displayName;const Te=h.forwardRef(({className:s,...t},r)=>e.jsx(Ie,{ref:r,className:W("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...t}));Te.displayName=Ie.displayName;const De=h.forwardRef(({className:s,...t},r)=>e.jsx(Ee,{ref:r,className:W("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t}));De.displayName=Ee.displayName;var Oe=["PageUp","PageDown"],Ke=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ue={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},B="Slider",[te,Dt,Ot]=Ze(B),[Me]=pe(B,[Ot]),[Kt,Y]=Me(B),_e=h.forwardRef((s,t)=>{const{name:r,min:i=0,max:a=100,step:l=1,orientation:n="horizontal",disabled:o=!1,minStepsBetweenThumbs:d=0,defaultValue:m=[i],value:x,onValueChange:c=()=>{},onValueCommit:u=()=>{},inverted:g=!1,form:w,...b}=s,v=h.useRef(new Set),f=h.useRef(0),j=n==="horizontal"?Ut:Mt,[y=[],M]=xe({prop:x,defaultProp:m,onChange:S=>{var p;(p=[...v.current][f.current])==null||p.focus(),c(S)}}),C=h.useRef(y);function F(S){const T=Bt(y,S);_(S,T)}function J(S){_(S,f.current)}function Q(){const S=C.current[f.current];y[f.current]!==S&&u(y)}function _(S,T,{commit:p}={commit:!1}){const N=zt(l),q=Wt(Math.round((S-i)/l)*l+i,N),V=ge(q,[i,a]);M((G=[])=>{const $=Gt(G,V,T);if(Vt($,d*l)){f.current=$.indexOf(V);const oe=String($)!==String(G);return oe&&p&&u($),oe?$:G}else return G})}return e.jsx(Kt,{scope:s.__scopeSlider,name:r,disabled:o,min:i,max:a,valueIndexToChangeRef:f,thumbs:v.current,values:y,orientation:n,form:w,children:e.jsx(te.Provider,{scope:s.__scopeSlider,children:e.jsx(te.Slot,{scope:s.__scopeSlider,children:e.jsx(j,{"aria-disabled":o,"data-disabled":o?"":void 0,...b,ref:t,onPointerDown:O(b.onPointerDown,()=>{o||(C.current=y)}),min:i,max:a,inverted:g,onSlideStart:o?void 0:F,onSlideMove:o?void 0:J,onSlideEnd:o?void 0:Q,onHomeKeyDown:()=>!o&&_(i,0,{commit:!0}),onEndKeyDown:()=>!o&&_(a,y.length-1,{commit:!0}),onStepKeyDown:({event:S,direction:T})=>{if(!o){const q=Oe.includes(S.key)||S.shiftKey&&Ke.includes(S.key)?10:1,V=f.current,G=y[V],$=l*q*T;_(G+$,V,{commit:!0})}}})})})})});_e.displayName=B;var[$e,Ge]=Me(B,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Ut=h.forwardRef((s,t)=>{const{min:r,max:i,dir:a,inverted:l,onSlideStart:n,onSlideMove:o,onSlideEnd:d,onStepKeyDown:m,...x}=s,[c,u]=h.useState(null),g=L(t,j=>u(j)),w=h.useRef(void 0),b=he(a),v=b==="ltr",f=v&&!l||!v&&l;function R(j){const y=w.current||c.getBoundingClientRect(),M=[0,y.width],F=ie(M,f?[r,i]:[i,r]);return w.current=y,F(j-y.left)}return e.jsx($e,{scope:s.__scopeSlider,startEdge:f?"left":"right",endEdge:f?"right":"left",direction:f?1:-1,size:"width",children:e.jsx(Le,{dir:b,"data-orientation":"horizontal",...x,ref:g,style:{...x.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const y=R(j.clientX);n==null||n(y)},onSlideMove:j=>{const y=R(j.clientX);o==null||o(y)},onSlideEnd:()=>{w.current=void 0,d==null||d()},onStepKeyDown:j=>{const M=Ue[f?"from-left":"from-right"].includes(j.key);m==null||m({event:j,direction:M?-1:1})}})})}),Mt=h.forwardRef((s,t)=>{const{min:r,max:i,inverted:a,onSlideStart:l,onSlideMove:n,onSlideEnd:o,onStepKeyDown:d,...m}=s,x=h.useRef(null),c=L(t,x),u=h.useRef(void 0),g=!a;function w(b){const v=u.current||x.current.getBoundingClientRect(),f=[0,v.height],j=ie(f,g?[i,r]:[r,i]);return u.current=v,j(b-v.top)}return e.jsx($e,{scope:s.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:e.jsx(Le,{"data-orientation":"vertical",...m,ref:c,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const v=w(b.clientY);l==null||l(v)},onSlideMove:b=>{const v=w(b.clientY);n==null||n(v)},onSlideEnd:()=>{u.current=void 0,o==null||o()},onStepKeyDown:b=>{const f=Ue[g?"from-bottom":"from-top"].includes(b.key);d==null||d({event:b,direction:f?-1:1})}})})}),Le=h.forwardRef((s,t)=>{const{__scopeSlider:r,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onHomeKeyDown:n,onEndKeyDown:o,onStepKeyDown:d,...m}=s,x=Y(B,r);return e.jsx(K.span,{...m,ref:t,onKeyDown:O(s.onKeyDown,c=>{c.key==="Home"?(n(c),c.preventDefault()):c.key==="End"?(o(c),c.preventDefault()):Oe.concat(Ke).includes(c.key)&&(d(c),c.preventDefault())}),onPointerDown:O(s.onPointerDown,c=>{const u=c.target;u.setPointerCapture(c.pointerId),c.preventDefault(),x.thumbs.has(u)?u.focus():i(c)}),onPointerMove:O(s.onPointerMove,c=>{c.target.hasPointerCapture(c.pointerId)&&a(c)}),onPointerUp:O(s.onPointerUp,c=>{const u=c.target;u.hasPointerCapture(c.pointerId)&&(u.releasePointerCapture(c.pointerId),l(c))})})}),Be="SliderTrack",Fe=h.forwardRef((s,t)=>{const{__scopeSlider:r,...i}=s,a=Y(Be,r);return e.jsx(K.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...i,ref:t})});Fe.displayName=Be;var se="SliderRange",qe=h.forwardRef((s,t)=>{const{__scopeSlider:r,...i}=s,a=Y(se,r),l=Ge(se,r),n=h.useRef(null),o=L(t,n),d=a.values.length,m=a.values.map(u=>We(u,a.min,a.max)),x=d>1?Math.min(...m):0,c=100-Math.max(...m);return e.jsx(K.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...i,ref:o,style:{...s.style,[l.startEdge]:x+"%",[l.endEdge]:c+"%"}})});qe.displayName=se;var ne="SliderThumb",Ve=h.forwardRef((s,t)=>{const r=Dt(s.__scopeSlider),[i,a]=h.useState(null),l=L(t,o=>a(o)),n=h.useMemo(()=>i?r().findIndex(o=>o.ref.current===i):-1,[r,i]);return e.jsx(_t,{...s,ref:l,index:n})}),_t=h.forwardRef((s,t)=>{const{__scopeSlider:r,index:i,name:a,...l}=s,n=Y(ne,r),o=Ge(ne,r),[d,m]=h.useState(null),x=L(t,R=>m(R)),c=d?n.form||!!d.closest("form"):!0,u=et(d),g=n.values[i],w=g===void 0?0:We(g,n.min,n.max),b=Lt(i,n.values.length),v=u==null?void 0:u[o.size],f=v?Ft(v,w,o.direction):0;return h.useEffect(()=>{if(d)return n.thumbs.add(d),()=>{n.thumbs.delete(d)}},[d,n.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${w}% + ${f}px)`},children:[e.jsx(te.ItemSlot,{scope:s.__scopeSlider,children:e.jsx(K.span,{role:"slider","aria-label":s["aria-label"]||b,"aria-valuemin":n.min,"aria-valuenow":g,"aria-valuemax":n.max,"aria-orientation":n.orientation,"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,tabIndex:n.disabled?void 0:0,...l,ref:x,style:g===void 0?{display:"none"}:s.style,onFocus:O(s.onFocus,()=>{n.valueIndexToChangeRef.current=i})})}),c&&e.jsx(ze,{name:a??(n.name?n.name+(n.values.length>1?"[]":""):void 0),form:n.form,value:g},i)]})});Ve.displayName=ne;var $t="RadioBubbleInput",ze=h.forwardRef(({__scopeSlider:s,value:t,...r},i)=>{const a=h.useRef(null),l=L(a,i),n=tt(t);return h.useEffect(()=>{const o=a.current;if(!o)return;const d=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(d,"value").set;if(n!==t&&x){const c=new Event("input",{bubbles:!0});x.call(o,t),o.dispatchEvent(c)}},[n,t]),e.jsx(K.input,{style:{display:"none"},...r,ref:l,defaultValue:t})});ze.displayName=$t;function Gt(s=[],t,r){const i=[...s];return i[r]=t,i.sort((a,l)=>a-l)}function We(s,t,r){const l=100/(r-t)*(s-t);return ge(l,[0,100])}function Lt(s,t){return t>2?`Value ${s+1} of ${t}`:t===2?["Minimum","Maximum"][s]:void 0}function Bt(s,t){if(s.length===1)return 0;const r=s.map(a=>Math.abs(a-t)),i=Math.min(...r);return r.indexOf(i)}function Ft(s,t,r){const i=s/2,l=ie([0,50],[0,i]);return(i-l(t)*r)*r}function qt(s){return s.slice(0,-1).map((t,r)=>s[r+1]-t)}function Vt(s,t){if(t>0){const r=qt(s);return Math.min(...r)>=t}return!0}function ie(s,t){return r=>{if(s[0]===s[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(s[1]-s[0]);return t[0]+i*(r-s[0])}}function zt(s){return(String(s).split(".")[1]||"").length}function Wt(s,t){const r=Math.pow(10,t);return Math.round(s*r)/r}var He=_e,Ht=Fe,Yt=qe,Jt=Ve;const re=h.forwardRef(({className:s,...t},r)=>e.jsxs(He,{ref:r,className:W("relative flex w-full touch-none select-none items-center",s),...t,children:[e.jsx(Ht,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(Yt,{className:"absolute h-full bg-primary"})}),e.jsx(Jt,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));re.displayName=He.displayName;class z{static async encrypt(t){const r=new TextEncoder,i=r.encode(t),a=crypto.getRandomValues(new Uint8Array(16)),l=await crypto.subtle.importKey("raw",r.encode(this.ENCRYPTION_KEY),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]),n=await crypto.subtle.deriveKey({name:"PBKDF2",salt:a,iterations:1e5,hash:"SHA-256"},l,{name:"AES-GCM",length:256},!1,["encrypt"]),o=crypto.getRandomValues(new Uint8Array(12)),d=await crypto.subtle.encrypt({name:"AES-GCM",iv:o},n,i),m=new Uint8Array(a.length+o.length+d.byteLength);return m.set(a,0),m.set(o,a.length),m.set(new Uint8Array(d),a.length+o.length),btoa(String.fromCharCode(...m))}static async decrypt(t){try{const r=new TextEncoder,i=new TextDecoder,a=new Uint8Array(atob(t).split("").map(c=>c.charCodeAt(0))),l=a.slice(0,16),n=a.slice(16,28),o=a.slice(28),d=await crypto.subtle.importKey("raw",r.encode(this.ENCRYPTION_KEY),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]),m=await crypto.subtle.deriveKey({name:"PBKDF2",salt:l,iterations:1e5,hash:"SHA-256"},d,{name:"AES-GCM",length:256},!1,["decrypt"]),x=await crypto.subtle.decrypt({name:"AES-GCM",iv:n},m,o);return i.decode(x)}catch(r){return console.error("Decryption failed:",r),""}}static async setApiKey(t){const r=Date.now(),i=JSON.stringify({apiKey:t,timestamp:r,expiresAt:r+7*24*60*60*1e3}),a=await this.encrypt(i);localStorage.setItem(this.STORAGE_KEY,a)}static async getApiKey(){const t=localStorage.getItem(this.STORAGE_KEY);if(!t)return null;const r=await this.decrypt(t);if(!r)return null;try{const i=JSON.parse(r);return Date.now()>i.expiresAt?(this.clearApiKey(),null):i.apiKey}catch(i){return console.error("Failed to parse stored API key data:",i),this.clearApiKey(),null}}static clearApiKey(){localStorage.removeItem(this.STORAGE_KEY)}static async isApiKeyExpired(){const t=localStorage.getItem(this.STORAGE_KEY);if(!t)return!0;const r=await this.decrypt(t);if(!r)return!0;try{const i=JSON.parse(r);return Date.now()>i.expiresAt}catch{return!0}}}D(z,"STORAGE_KEY","eyecare_secure_data"),D(z,"ENCRYPTION_KEY","eyecare_encryption_salt");const ee=[{id:"eye-condition",name:"Eye Conditions",prompts:["Medical diagram of dry eye syndrome with detailed tear film","Close-up of keratoconus showing corneal cone shape","Eye with cataracts showing cloudy lens","Glaucoma visualization showing optic nerve damage","Macular degeneration comparison between healthy and affected retina"]},{id:"treatments",name:"Treatments",prompts:["LASIK surgery procedure on eye, medical illustration","Cataract surgery with intraocular lens implantation","Scleral lens fitting for keratoconus","IPL therapy for dry eye treatment","Corneal cross-linking procedure for keratoconus"]},{id:"backgrounds",name:"Backgrounds",prompts:["Modern optometry clinic interior with purple accents","Abstract eye health background in purple gradient","Medical technology background with subtle eye imagery","Clean minimalist pattern for eye care website","Blurred eye examination room background"]}],Qt=()=>{const[s,t]=h.useState(""),[r,i]=h.useState(""),[a,l]=h.useState(""),[n,o]=h.useState(1024),[d,m]=h.useState(1024),[x,c]=h.useState(!1),[u,g]=h.useState(null),[w,b]=h.useState("eye-condition"),[v,f]=h.useState([]),[R,j]=h.useState("runware:100@1"),[y,M]=h.useState(!0),C=h.useRef(null);h.useEffect(()=>{(async()=>{try{const N=await z.getApiKey();N&&(i(N),C.current=new Z(N))}catch(N){console.error("Failed to load stored API key:",N)}finally{M(!1)}})()},[]),h.useEffect(()=>{const p=ee.find(N=>N.id===w);p&&f(p.prompts)},[w]),h.useEffect(()=>()=>{C.current&&C.current.disconnect()},[]);const F=async()=>{if(!s.trim()){A.error("Please enter a valid API key");return}try{await z.setApiKey(s),i(s),C.current=new Z(s),t(""),A.success("API key saved securely with 7-day expiration")}catch(p){console.error("Failed to save API key:",p),A.error("Failed to save API key securely")}},J=async()=>{z.clearApiKey(),i(""),C.current&&(C.current.disconnect(),C.current=null),A.success("API key cleared from secure storage")},Q=async()=>{if(!r){A.error("Please save your API key first");return}if(!a.trim()){A.error("Please enter a prompt");return}c(!0),A.info("Generating image...");try{const p={positivePrompt:a,width:n,height:d,model:R};C.current||(C.current=new Z(r));const N=await C.current.generateImage(p);g(N),A.success("Image generated successfully")}catch(p){console.error("Error generating image:",p),A.error("Failed to generate image. Please try again.")}finally{c(!1)}},_=()=>{if(!(u!=null&&u.imageURL))return;const p=document.createElement("a");p.href=u.imageURL,p.download=`eyecare-image-${u.imageUUID||Date.now()}.webp`,document.body.appendChild(p),p.click(),document.body.removeChild(p),A.success("Image downloaded successfully")},S=()=>{g(null)},T=p=>{l(p)};return y?e.jsxs("div",{className:"relative rounded-xl overflow-hidden",children:[e.jsx(le,{colorScheme:"purple",numberOfCircles:10}),e.jsx("div",{className:"relative z-10 p-6 flex items-center justify-center min-h-[200px]",children:e.jsx("div",{className:"text-white",children:"Loading secure storage..."})})]}):e.jsxs("div",{className:"relative rounded-xl overflow-hidden",children:[e.jsx(le,{colorScheme:"purple",numberOfCircles:10}),e.jsx("div",{className:"relative z-10 p-6",children:r?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white/90 p-4 rounded-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm font-medium",children:"API Key Stored Securely"})]}),e.jsx(U,{variant:"outline",size:"sm",onClick:J,children:"Clear Key"})]}),e.jsxs(Tt,{defaultValue:w,onValueChange:b,children:[e.jsx(Re,{className:"grid grid-cols-3 mb-6",children:ee.map(p=>e.jsx(Te,{value:p.id,children:p.name},p.id))}),ee.map(p=>e.jsx(De,{value:p.id,className:"space-y-4",children:e.jsxs("div",{className:"bg-white/90 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Suggested Prompts:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.prompts.map((N,q)=>e.jsx(U,{variant:"outline",size:"sm",className:"text-xs bg-white",onClick:()=>T(N),children:N},q))})]})},p.id))]}),e.jsx("div",{className:"bg-white/90 p-6 rounded-lg shadow-md",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Custom Prompt:"}),e.jsx(de,{value:a,onChange:p=>l(p.target.value),placeholder:"Describe the image you want to generate...",className:"w-full"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Image Width: ",n,"px"]}),e.jsx(re,{value:[n],min:512,max:2048,step:64,onValueChange:p=>o(p[0])})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Image Height: ",d,"px"]}),e.jsx(re,{value:[d],min:512,max:2048,step:64,onValueChange:p=>m(p[0])})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Model:"}),e.jsxs(rt,{value:R,onValueChange:j,children:[e.jsx(at,{children:e.jsx(it,{placeholder:"Select a model"})}),e.jsxs(ot,{children:[e.jsx(ce,{value:"runware:100@1",children:"Runware 100 (Standard)"}),e.jsx(ce,{value:"runware:110@1",children:"Runware 110 (Enhanced)"})]})]})]}),e.jsx(U,{onClick:Q,className:"w-full bg-eyecare-blue hover:bg-eyecare-dark-blue",disabled:x,children:x?"Generating...":"Generate Image"})]})}),u&&e.jsxs("div",{className:"bg-white/90 p-6 rounded-lg shadow-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Generated Image"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(U,{variant:"outline",size:"icon",onClick:_,children:e.jsx(gt,{className:"h-4 w-4"})}),e.jsx(U,{variant:"outline",size:"icon",onClick:S,children:e.jsx(ft,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"relative overflow-hidden rounded-lg bg-gray-100 border",children:[u.NSFWContent&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/75 text-white text-center p-4 z-10",children:"This image contains content that may not be appropriate"}),e.jsx("img",{src:u.imageURL,alt:"Generated by Runware AI",className:"w-full h-auto object-contain"})]}),e.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Prompt:"})," ",u.positivePrompt]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Seed:"})," ",u.seed]})]})]})]}):e.jsxs("div",{className:"bg-white/90 p-6 rounded-lg shadow-md mb-6",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx(pt,{className:"h-5 w-5 text-amber-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Secure API Key Storage"}),e.jsxs("div",{className:"text-sm text-gray-600 mb-4 space-y-2",children:[e.jsx("p",{children:"Your API key will be encrypted and stored locally with a 7-day expiration."}),e.jsx("p",{className:"font-medium text-amber-700",children:"Security Notice: API keys should never be shared. Consider using a backend service for production applications."})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(de,{type:"password",placeholder:"Enter your Runware API key",value:s,onChange:p=>t(p.target.value)}),e.jsx(U,{onClick:F,children:"Save API Key Securely"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["You can get your API key from ",e.jsx("a",{href:"https://runware.ai",target:"_blank",rel:"noopener noreferrer",className:"text-eyecare-blue underline",children:"Runware.ai"})]})]})]})})]})},Xt=()=>{const s=()=>[{url:"/",priority:"1.0",changefreq:"weekly",title:"Orange County Eye Care Center - Dr. Alexander Bonakdar",type:"main"},{url:"/about",priority:"0.8",changefreq:"monthly",title:"About Dr. Alexander Bonakdar - Orange County Optometrist",type:"main"},{url:"/services",priority:"0.8",changefreq:"monthly",title:"Comprehensive Eye Care Services - Orange County",type:"service"},{url:"/contact",priority:"0.7",changefreq:"monthly",title:"Contact Eye Doctor Orange County - Schedule Appointment",type:"main"},{url:"/eyewear",priority:"0.8",changefreq:"weekly",title:"Designer Eyewear & Glasses - Orange County",type:"service"},{url:"/fashion",priority:"0.8",changefreq:"weekly",title:"Fashion Eyewear Collection - Orange County",type:"service"},{url:"/conditions/keratoconus",priority:"0.9",changefreq:"monthly",title:"Keratoconus Treatment Orange County - Specialist Care",type:"condition"},{url:"/conditions/dry-eye",priority:"0.9",changefreq:"monthly",title:"Dry Eye Treatment Orange County - IPL Therapy",type:"condition"},{url:"/conditions/headache-eye-fatigue",priority:"0.8",changefreq:"monthly",title:"Eye Strain & Headache Treatment - Orange County",type:"condition"},{url:"/conditions/ortho-k",priority:"0.8",changefreq:"monthly",title:"Ortho-K Myopia Control - Orange County Specialist",type:"condition"},{url:"/conditions/lasik",priority:"0.8",changefreq:"monthly",title:"LASIK Consultation Orange County - Co-Management",type:"condition"},{url:"/conditions/cataract",priority:"0.8",changefreq:"monthly",title:"Cataract Evaluation Orange County - Expert Care",type:"condition"},{url:"/es",priority:"1.0",changefreq:"weekly",title:"Centro de Cuidado Ocular Orange County - Dr. Alexander Bonakdar",type:"main"},{url:"/es/about",priority:"0.8",changefreq:"monthly",title:"Acerca Dr. Alexander Bonakdar - Optometrista Orange County",type:"main"},{url:"/es/services",priority:"0.8",changefreq:"monthly",title:"Servicios Integrales Cuidado Ocular - Orange County",type:"service"},{url:"/es/contact",priority:"0.7",changefreq:"monthly",title:"Contactar Oculista Orange County - Programar Cita",type:"main"},{url:"/es/eyewear",priority:"0.8",changefreq:"weekly",title:"Anteojos Diseñador y Gafas - Orange County",type:"service"},{url:"/es/fashion",priority:"0.8",changefreq:"weekly",title:"Colección Anteojos Moda - Orange County",type:"service"},{url:"/es/conditions/keratoconus",priority:"0.9",changefreq:"monthly",title:"Tratamiento Queratocono Orange County - Cuidado Especializado",type:"condition"},{url:"/es/conditions/dry-eye",priority:"0.9",changefreq:"monthly",title:"Tratamiento Ojo Seco Orange County - Terapia IPL",type:"condition"},{url:"/es/conditions/headache-eye-fatigue",priority:"0.8",changefreq:"monthly",title:"Tratamiento Fatiga Ocular y Dolor Cabeza - Orange County",type:"condition"},{url:"/es/conditions/ortho-k",priority:"0.8",changefreq:"monthly",title:"Ortho-K Control Miopía - Especialista Orange County",type:"condition"},{url:"/es/conditions/lasik",priority:"0.8",changefreq:"monthly",title:"Consulta LASIK Orange County - Co-manejo",type:"condition"},{url:"/es/conditions/cataract",priority:"0.8",changefreq:"monthly",title:"Evaluación Cataratas Orange County - Cuidado Experto",type:"condition"}].map(o=>({...o,lastModified:lt(o.url)})),t=()=>{const n="https://eyecarecenteroc.com",d=`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9" xmlns:xhtml="http://www.w3.org/1999/xhtml">
${s().map(m=>{const x=`${n}${m.url}`,c=m.url.startsWith("/es")?`${n}${m.url.replace("/es","")}`:`${n}/es${m.url}`;return`  <url>
    <loc>${x}</loc>
    <lastmod>${m.lastModified}</lastmod>
    <changefreq>${m.changefreq}</changefreq>
    <priority>${m.priority}</priority>
    <xhtml:link rel="alternate" hreflang="${m.url.startsWith("/es")?"es":"en"}" href="${x}" />
    <xhtml:link rel="alternate" hreflang="${m.url.startsWith("/es")?"en":"es"}" href="${c}" />
    ${m.url==="/"||m.url==="/es"?'<xhtml:link rel="alternate" hreflang="x-default" href="https://eyecarecenteroc.com/" />':""}
  </url>`}).join(`
`)}
</urlset>`;a(d,"sitemap.xml")},r=n=>{const o="https://eyecarecenteroc.com",d=s().filter(u=>u.type===n),m=`sitemap-${n}.xml`,c=`<?xml version="1.0" encoding="UTF-8"?>
<!-- ${n==="main"?"Main Pages":n==="condition"?"Medical Conditions":n==="service"?"Services":"Other Pages"} Sitemap -->
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9" xmlns:xhtml="http://www.w3.org/1999/xhtml">
${d.map(u=>{const g=`${o}${u.url}`,w=u.url.startsWith("/es")?`${o}${u.url.replace("/es","")}`:`${o}/es${u.url}`;return`  <url>
    <loc>${g}</loc>
    <lastmod>${u.lastModified}</lastmod>
    <changefreq>${u.changefreq}</changefreq>
    <priority>${u.priority}</priority>
    <xhtml:link rel="alternate" hreflang="${u.url.startsWith("/es")?"es":"en"}" href="${g}" />
    <xhtml:link rel="alternate" hreflang="${u.url.startsWith("/es")?"en":"es"}" href="${w}" />
    ${u.url==="/"||u.url==="/es"?'<xhtml:link rel="alternate" hreflang="x-default" href="https://eyecarecenteroc.com/" />':""}
  </url>`}).join(`
`)}
</urlset>`;a(c,m)},i=()=>{const n="https://eyecarecenteroc.com",o=new Date().toISOString().split("T")[0],d=`<?xml version="1.0" encoding="UTF-8"?>
<sitemapindex xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  <sitemap>
    <loc>${n}/sitemap.xml</loc>
    <lastmod>${o}</lastmod>
  </sitemap>
  <sitemap>
    <loc>${n}/sitemap-main.xml</loc>
    <lastmod>${o}</lastmod>
  </sitemap>
  <sitemap>
    <loc>${n}/sitemap-condition.xml</loc>
    <lastmod>${o}</lastmod>
  </sitemap>
  <sitemap>
    <loc>${n}/sitemap-service.xml</loc>
    <lastmod>${o}</lastmod>
  </sitemap>
</sitemapindex>`;a(d,"sitemap-index.xml")},a=(n,o)=>{const d=new Blob([n],{type:"application/xml"}),m=URL.createObjectURL(d),x=document.createElement("a");x.href=m,x.download=o,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(m)},l=()=>{a(`# robots.txt for eyecarecenteroc.com

# Allow all web crawlers full access
User-agent: *
Allow: /

# Set crawl delay for specific bots to prevent overloading
User-agent: YandexBot
Crawl-delay: 5

User-agent: BingBot
Crawl-delay: 3

# Disallow admin pages and internal tools
Disallow: /admin/
Disallow: /api/
Disallow: /_next/

# Sitemap index - primary reference for search engines
Sitemap: https://eyecarecenteroc.com/sitemap-index.xml

# Individual sitemaps for better organization
Sitemap: https://eyecarecenteroc.com/sitemap.xml
Sitemap: https://eyecarecenteroc.com/sitemap-main.xml
Sitemap: https://eyecarecenteroc.com/sitemap-condition.xml
Sitemap: https://eyecarecenteroc.com/sitemap-service.xml`,"robots.txt")};return e.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-md",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"SEO Tools - Google Indexing Optimization"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 mb-4",children:e.jsxs("p",{className:"text-sm text-green-700",children:[e.jsx("strong",{children:"SEO Optimized:"})," All pages now have unique, location-focused titles and proper canonical URLs with dynamic lastmod dates for better search engine indexing."]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-md",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Sitemap Generation"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("button",{onClick:t,className:"bg-eyecare-blue text-white px-4 py-2 rounded-md hover:bg-eyecare-dark-blue transition-colors text-sm",children:"Generate Complete Sitemap"}),e.jsx("button",{onClick:()=>r("main"),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors text-sm",children:"Generate Main Pages Sitemap"}),e.jsx("button",{onClick:()=>r("condition"),className:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition-colors text-sm",children:"Generate Conditions Sitemap"}),e.jsx("button",{onClick:()=>r("service"),className:"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition-colors text-sm",children:"Generate Services Sitemap"}),e.jsx("button",{onClick:i,className:"bg-violet-600 text-white px-4 py-2 rounded-md hover:bg-violet-700 transition-colors text-sm",children:"Generate Sitemap Index"})]})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-md",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Search Engine Configuration"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("button",{onClick:l,className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors text-sm",children:"Generate Robots.txt"}),e.jsx("a",{href:"https://search.google.com/search-console",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors text-sm text-center",children:"Open Google Search Console"}),e.jsx("a",{href:"https://www.bing.com/webmasters/home",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors text-sm text-center",children:"Open Bing Webmaster Tools"})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-md",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"SEO Improvements Made:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[e.jsx("li",{children:"✅ All pages have unique, descriptive titles"}),e.jsx("li",{children:"✅ Meta descriptions never empty, location-focused"}),e.jsx("li",{children:"✅ Proper canonical URLs for all pages"}),e.jsx("li",{children:"✅ Bilingual hreflang attributes implemented"}),e.jsx("li",{children:"✅ Enhanced structured data for local business"}),e.jsx("li",{children:"✅ Dynamic lastmod dates for content freshness"}),e.jsx("li",{children:"✅ Organized sitemaps by content type"}),e.jsx("li",{children:"✅ Google Search Console verification meta tags"}),e.jsx("li",{children:"✅ Mobile optimization meta tags"})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-md",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Next Steps for Google Indexing:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[e.jsx("li",{children:"Download all sitemap files using the buttons above"}),e.jsx("li",{children:"Upload the sitemaps and robots.txt to your website's root directory"}),e.jsx("li",{children:"Submit the sitemap-index.xml to Google Search Console"}),e.jsx("li",{children:"Request re-indexing of your pages in Google Search Console"}),e.jsx("li",{children:"Add verification tokens for search engines in the .env file"}),e.jsx("li",{children:"Monitor your indexing status over the next few days"})]})]})]})]})},Zt=()=>{const s=xt();return e.jsxs(k,{className:"shadow-md hover:shadow-lg transition-all duration-300",children:[e.jsxs(P,{className:"bg-gradient-to-r from-blue-50 to-blue-100 pb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(I,{className:"text-xl font-bold text-gray-900",children:"Keratoconus QR Code"}),e.jsx("div",{className:"p-2 bg-blue-600 rounded-md",children:e.jsx(yt,{className:"w-5 h-5 text-white"})})]}),e.jsx(At,{className:"text-blue-700 mt-2",children:"Generate QR codes for keratoconus referral cards"})]}),e.jsxs(E,{className:"pt-6",children:[e.jsx("p",{className:"text-gray-700 mb-4",children:"Create and print QR codes that link to the dedicated Keratoconus landing page for referred patients."}),e.jsxs("ul",{className:"list-disc list-inside text-gray-600 text-sm space-y-1 mb-6",children:[e.jsx("li",{children:"Generate high-quality QR codes"}),e.jsx("li",{children:"Print directly from browser"}),e.jsx("li",{children:"Download as PNG image"}),e.jsx("li",{children:"Include on referral cards"})]})]}),e.jsx(kt,{className:"border-t pt-4",children:e.jsx(U,{onClick:()=>s("/admin/keratoconus-qr"),className:"w-full bg-blue-600 hover:bg-blue-700",children:"Generate QR Code"})})]})},es=()=>{var i,a;const{getSessionSummary:s}=ct(),t=s(),r={Desktop:X,Mobile:St,Tablet:jt};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Analytics Dashboard"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(k,{children:[e.jsxs(P,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(I,{className:"text-sm font-medium",children:"Total Sessions"}),e.jsx(bt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(E,{children:e.jsx("div",{className:"text-2xl font-bold",children:t.totalSessions})})]}),e.jsxs(k,{children:[e.jsxs(P,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(I,{className:"text-sm font-medium",children:"USA Sessions"}),e.jsx(vt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.usaSessions}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.totalSessions>0?`${(t.usaSessions/t.totalSessions*100).toFixed(1)}% of total`:"0%"})]})]}),e.jsxs(k,{children:[e.jsxs(P,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(I,{className:"text-sm font-medium",children:"Top Browser"}),e.jsx(wt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(E,{children:e.jsx("div",{className:"text-2xl font-bold",children:((i=Object.entries(t.browsers).sort(([,l],[,n])=>n-l)[0])==null?void 0:i[0])||"N/A"})})]}),e.jsxs(k,{children:[e.jsxs(P,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(I,{className:"text-sm font-medium",children:"Top Device"}),e.jsx(X,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(E,{children:e.jsx("div",{className:"text-2xl font-bold",children:((a=Object.entries(t.devices).sort(([,l],[,n])=>n-l)[0])==null?void 0:a[0])||"N/A"})})]})]}),e.jsxs(k,{children:[e.jsx(P,{children:e.jsx(I,{children:"Browser Distribution"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-2",children:Object.entries(t.browsers).map(([l,n])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:l}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-eyecare-blue h-2 rounded-full",style:{width:`${n/t.totalSessions*100}%`}})}),e.jsx("span",{className:"text-sm text-muted-foreground w-12 text-right",children:n})]})]},l))})})]}),e.jsxs(k,{children:[e.jsx(P,{children:e.jsx(I,{children:"Device Distribution"})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(t.devices).map(([l,n])=>{const o=r[l]||X;return e.jsxs("div",{className:"text-center",children:[e.jsx(o,{className:"h-8 w-8 mx-auto mb-2 text-eyecare-blue"}),e.jsx("p",{className:"text-sm font-medium",children:l}),e.jsx("p",{className:"text-2xl font-bold",children:n}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(n/t.totalSessions*100).toFixed(1),"%"]})]},l)})})})]}),e.jsxs(k,{children:[e.jsx(P,{children:e.jsx(I,{children:"Top Pages"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-2",children:t.topPages.slice(0,5).map(({page:l,views:n})=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:l}),e.jsxs("span",{className:"text-sm font-medium",children:[n," views"]})]},l))})})]}),e.jsxs(k,{children:[e.jsx(P,{children:e.jsx(I,{children:"Top USA Cities"})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-2",children:t.topCities.length>0?t.topCities.slice(0,5).map(({city:l,count:n})=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:l}),e.jsxs("span",{className:"text-sm font-medium",children:[n," sessions"]})]},l)):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No USA city data available"})})})]})]})},ts=()=>{var o;const[s,t]=h.useState(null),[r,i]=h.useState(!0),[a,l]=h.useState(null),n=async()=>{i(!0);try{const m=await dt.getInstance().checkAccess();t(m.location),l({allowed:m.allowed,reason:m.reason})}catch(d){console.error("Error loading location:",d)}finally{i(!1)}};return h.useEffect(()=>{n()},[]),e.jsxs(k,{className:"col-span-2",children:[e.jsx(P,{children:e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-5 w-5"}),"Geographic Access Control"]})}),e.jsx(E,{children:r?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(ue,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),e.jsx("p",{children:"Loading location data..."})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[e.jsx(Nt,{className:"h-4 w-4"}),"Current Location"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Country:"})," ",e.jsx("span",{className:"font-medium",children:(s==null?void 0:s.country)||"Unknown"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"State:"})," ",e.jsx("span",{className:"font-medium",children:(s==null?void 0:s.region)||"Unknown"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"City:"})," ",e.jsx("span",{className:"font-medium",children:(s==null?void 0:s.city)||"Unknown"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"IP:"})," ",e.jsx("span",{className:"font-medium",children:(s==null?void 0:s.ip)||"Unknown"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-gray-600",children:"Coordinates:"})," ",e.jsxs("span",{className:"font-medium",children:[s==null?void 0:s.latitude,", ",s==null?void 0:s.longitude]})]})]})]}),e.jsx("div",{className:`p-4 rounded-lg ${a!=null&&a.allowed?"bg-green-50":"bg-red-50"}`,children:e.jsx("div",{className:"flex items-center gap-2",children:a!=null&&a.allowed?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"font-medium text-green-900",children:"Access Granted"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ct,{className:"h-5 w-5 text-red-600"}),e.jsxs("span",{className:"font-medium text-red-900",children:["Access Denied: ",(o=a==null?void 0:a.reason)==null?void 0:o.replace(/_/g," ")]})]})})}),!1,e.jsxs(U,{onClick:n,variant:"outline",className:"w-full",children:[e.jsx(ue,{className:"h-4 w-4 mr-2"}),"Refresh Location"]})]})})]})},ms=()=>e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(mt,{title:"Admin Tools | Website Management | Eyecare Center OC",description:"Administrative tools for managing the Eyecare Center of Orange County website including image generation and sitemap management.",keywords:"admin tools, website management, sitemap generator, image generator, website administration",canonicalUrl:"https://eyecarecenteroc.com/admin/tools"}),e.jsx(ut,{}),e.jsx("main",{className:"flex-1 py-16",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:["Website ",e.jsx("span",{className:"text-eyecare-blue",children:"Admin Tools"})]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Administrative tools for managing website content and functionality"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto mb-12",children:[e.jsx(Qt,{}),e.jsx(Xt,{}),e.jsx(Zt,{}),e.jsx(ts,{})]}),e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsx(es,{})})]})}),e.jsx(ht,{})]});export{ms as default};
